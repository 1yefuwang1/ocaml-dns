<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Packet.html">
<link rel="next" href="RR.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Loader" rel="Chapter" href="Loader.html">
<link title="Name" rel="Chapter" href="Name.html">
<link title="Operators" rel="Chapter" href="Operators.html">
<link title="Packet" rel="Chapter" href="Packet.html">
<link title="Query" rel="Chapter" href="Query.html">
<link title="RR" rel="Chapter" href="RR.html">
<link title="Trie" rel="Chapter" href="Trie.html">
<link title="Zone" rel="Chapter" href="Zone.html">
<link title="Zone_lexer" rel="Chapter" href="Zone_lexer.html">
<link title="Zone_parser" rel="Chapter" href="Zone_parser.html">
<link title="Resolvconf" rel="Chapter" href="Resolvconf.html">
<link title="Protocol" rel="Chapter" href="Protocol.html">
<link title="Probe" rel="Chapter" href="Probe.html">
<link title="Dns_resolver" rel="Chapter" href="Dns_resolver.html">
<link title="Dns_server" rel="Chapter" href="Dns_server.html">
<link title="Mdns_responder" rel="Chapter" href="Mdns_responder.html"><title>Query</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Packet.html" title="Packet">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="RR.html" title="RR">Next</a>
</div>
<h1>Module <a href="type_Query.html">Query</a></h1>

<pre><span class="keyword">module</span> Query: <code class="code"><span class="keyword">sig</span></code> <a href="Query.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><div class="info module top">
Map DNS query-response mechanism onto trie database.<br>
<b>Author(s):</b> Tim Deegan, Richard Mortier &lt;mort@cantab.net&gt; (documentation)<br>
</div>
<hr width="100%">

<pre><code><span id="TYPEanswer"><span class="keyword">type</span> <code class="type"></code>answer</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTanswer.rcode">rcode</span>&nbsp;: <code class="type"><a href="Packet.html#TYPErcode">Packet.rcode</a></code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTanswer.aa">aa</span>&nbsp;: <code class="type">bool</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTanswer.answer">answer</span>&nbsp;: <code class="type"><a href="Packet.html#TYPErr">Packet.rr</a> list</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTanswer.authority">authority</span>&nbsp;: <code class="type"><a href="Packet.html#TYPErr">Packet.rr</a> list</code>;</code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTanswer.additional">additional</span>&nbsp;: <code class="type"><a href="Packet.html#TYPErr">Packet.rr</a> list</code>;</code></td>

</tr></table>
}

<div class="info ">
Partially-marshalled query response; that is, it has been uncompacted from
    the compact <a href="Trie.html"><code class="code"><span class="constructor">Trie</span></code></a> representation, but not yet rendered into a <code class="code"><span class="constructor">Cstruct</span>.buf</code>.<br>
</div>


<pre><span id="TYPEfilter"><span class="keyword">type</span> <code class="type"></code>filter</span> = <code class="type"><a href="Name.html#TYPEt">Name.t</a> -> <a href="RR.html#TYPErrset">RR.rrset</a> -> <a href="RR.html#TYPErrset">RR.rrset</a></code> </pre>


<pre><span id="TYPEflush"><span class="keyword">type</span> <code class="type"></code>flush</span> = <code class="type"><a href="Name.html#TYPEt">Name.t</a> -> <a href="Packet.html#TYPErdata">Packet.rdata</a> -> bool</code> </pre>


<pre><span id="VALresponse_of_answer"><span class="keyword">val</span> response_of_answer</span> : <code class="type">?mdns:bool -> <a href="Packet.html#TYPEt">Packet.t</a> -> <a href="Query.html#TYPEanswer">answer</a> -> <a href="Packet.html#TYPEt">Packet.t</a></code></pre><div class="info ">
<code class="code">response_of_answer&nbsp;query&nbsp;answer</code> is the <a href="Packet.html#TYPEt"><code class="code"><span class="constructor">Packet</span>.t</code></a> constructed
    from the <code class="code">answer</code> to the <code class="code">query</code><br>
</div>

<pre><span id="VALanswer_of_response"><span class="keyword">val</span> answer_of_response</span> : <code class="type">?preserve_aa:bool -> <a href="Packet.html#TYPEt">Packet.t</a> -> <a href="Query.html#TYPEanswer">answer</a></code></pre><div class="info ">
<code class="code">answer_of_response&nbsp;response</code> is the <a href="Query.html#VALanswer"><code class="code"><span class="constructor">Query</span>.answer</code></a> corresponding
    to the upstream <code class="code">response</code> for proxied or forwarded response.<br>
</div>

<pre><span id="VALanswer"><span class="keyword">val</span> answer</span> : <code class="type">?dnssec:bool -><br>       ?mdns:bool -><br>       ?filter:<a href="Query.html#TYPEfilter">filter</a> -><br>       ?flush:<a href="Query.html#TYPEflush">flush</a> -> <a href="Name.html#TYPEt">Name.t</a> -> <a href="Packet.html#TYPEq_type">Packet.q_type</a> -> <a href="Trie.html#TYPEdnstrie">Trie.dnstrie</a> -> <a href="Query.html#TYPEanswer">answer</a></code></pre><div class="info ">
Answer a query about <code class="code">domain_name</code>, given a query type <code class="code">q_type</code> and a
    <a href="Trie.html"><code class="code"><span class="constructor">Trie</span></code></a> of DNS data.<br>
<b>Returns</b> the <a href="Query.html#VALanswer"><code class="code"><span class="constructor">Query</span>.answer</code></a><br>
</div>

<pre><span id="VALanswer_multiple"><span class="keyword">val</span> answer_multiple</span> : <code class="type">?dnssec:bool -><br>       ?mdns:bool -><br>       ?filter:<a href="Query.html#TYPEfilter">filter</a> -><br>       ?flush:<a href="Query.html#TYPEflush">flush</a> -> <a href="Packet.html#TYPEquestion">Packet.question</a> list -> <a href="Trie.html#TYPEdnstrie">Trie.dnstrie</a> -> <a href="Query.html#TYPEanswer">answer</a></code></pre><div class="info ">
Answer one or more <code class="code">questions</code> given a <a href="Trie.html"><code class="code"><span class="constructor">Trie</span></code></a> of DNS data.<br>
<b>Returns</b> the <a href="Query.html#VALanswer"><code class="code"><span class="constructor">Query</span>.answer</code></a><br>
</div>

<pre><span id="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">?dnssec:bool -><br>       id:int -> <a href="Packet.html#TYPEq_class">Packet.q_class</a> -> <a href="Packet.html#TYPEq_type">Packet.q_type</a> -> <a href="Name.html#TYPEt">Name.t</a> -> <a href="Packet.html#TYPEt">Packet.t</a></code></pre><div class="info ">
<code class="code">create&nbsp;~id&nbsp;q_class&nbsp;q_type&nbsp;q_name</code> creates a query for <code class="code">q_name</code> with the
    supplied <code class="code">id</code>, <code class="code">q_class</code>, and <code class="code">q_type</code>.<br>
</div>
</body></html>